# -*- makefile -*-
#----------------------------------------------------------------------------
#       GNU ACE Workspace
#
# $Id: GNUACEWorkspaceCreator.pm 2490 2015-03-20 20:50:04Z mitza $
#
# This file was generated by MPC.  Any changes made directly to
# this file will be lost the next time it is generated.
#
# MPC Command:
# /mnt/openDDS/OpenDDS-3.8/ACE_wrappers/bin/mwc.pl -type gnuace /mnt/openDDS/OpenDDS-3.8/DDS_TAOv2_all.mwc
#
#----------------------------------------------------------------------------

MAKEFILE = GNUmakefile

ifeq ($(findstring k,$(MAKEFLAGS)),k)
  KEEP_GOING = -
endif

include $(ACE_ROOT)/include/makeinclude/macros.GNU

all: idl2jni_codegen idl2jni_runtime idl2jni_test_simple

depend: idl2jni_codegen-depend idl2jni_runtime-depend idl2jni_test_simple-depend

REMAINING_TARGETS := $(filter-out all depend,$(TARGETS_NESTED:.nested=)) $(CUSTOM_TARGETS)

$(REMAINING_TARGETS):
	$(KEEP_GOING)@cd codegen && $(MAKE) -f GNUmakefile.idl2jni_codegen $(@)
	$(KEEP_GOING)@cd runtime && $(MAKE) -f GNUmakefile.idl2jni_runtime $(@)
	$(KEEP_GOING)@cd tests/simple && $(MAKE) -f GNUmakefile.idl2jni_test_simple $(@)

.PHONY: idl2jni_codegen
idl2jni_codegen:
	$(KEEP_GOING)@cd codegen && $(MAKE) -f GNUmakefile.idl2jni_codegen all

.PHONY: idl2jni_codegen-depend
idl2jni_codegen-depend:
	$(KEEP_GOING)@cd codegen && $(MAKE) -f GNUmakefile.idl2jni_codegen depend

.PHONY: idl2jni_runtime
idl2jni_runtime:
	$(KEEP_GOING)@cd runtime && $(MAKE) -f GNUmakefile.idl2jni_runtime all

.PHONY: idl2jni_runtime-depend
idl2jni_runtime-depend:
	$(KEEP_GOING)@cd runtime && $(MAKE) -f GNUmakefile.idl2jni_runtime depend

.PHONY: idl2jni_test_simple
idl2jni_test_simple: idl2jni_codegen idl2jni_runtime
	$(KEEP_GOING)@cd tests/simple && $(MAKE) -f GNUmakefile.idl2jni_test_simple all

.PHONY: idl2jni_test_simple-depend
idl2jni_test_simple-depend:
	$(KEEP_GOING)@cd tests/simple && $(MAKE) -f GNUmakefile.idl2jni_test_simple depend

project_name_list:
	@echo idl2jni_codegen
	@echo idl2jni_runtime
	@echo idl2jni_test_simple
